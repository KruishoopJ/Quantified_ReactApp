{"ast":null,"code":"import _regeneratorRuntime from\"/Users/markheij/ipmedth_airsupport/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _slicedToArray from\"/Users/markheij/ipmedth_airsupport/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{withRouter}from\"react-router-dom\";import{MuiThemeProvider,createMuiTheme,CssBaseline}from'@material-ui/core';import{Auth}from\"aws-amplify\";import\"./App.css\";import Routes from\"./Routes\";import useAuth from\"./auth/useAuth\";import{FirebaseContext}from'firebase';var theme=createMuiTheme({palette:{primary:{light:'#c2dff2',main:'#5999D5',dark:'#314d83',contrastText:'#fff'},secondary:{main:'#314d83'}}//typography:{\n//fontFamily: 'Montserrat'\n//},\n});function App(props){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isAuthenticating=_useState2[0],setIsAuthenticating=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isAuthenticated=_useState4[0],userHasAuthenticated=_useState4[1];useEffect(function(){onLoad();},[]);function onLoad(){return _regeneratorRuntime.async(function onLoad$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _regeneratorRuntime.awrap(Auth.currentSession());case 3:userHasAuthenticated(true);_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);if(_context.t0!=='No current user'){alert(_context.t0);}case 9:setIsAuthenticating(false);case 10:case\"end\":return _context.stop();}}},null,null,[[0,6]]);}return!isAuthenticating&&React.createElement(MuiThemeProvider,{theme:theme},React.createElement(CssBaseline,null),React.createElement(\"div\",{className:\"root\"},React.createElement(Routes,{appProps:{isAuthenticated:isAuthenticated,userHasAuthenticated:userHasAuthenticated}})));}export default withRouter(App);","map":{"version":3,"sources":["/Users/markheij/ipmedth_airsupport/frontend/src/App.js"],"names":["React","useState","useEffect","withRouter","MuiThemeProvider","createMuiTheme","CssBaseline","Auth","Routes","useAuth","FirebaseContext","theme","palette","primary","light","main","dark","contrastText","secondary","App","props","isAuthenticating","setIsAuthenticating","isAuthenticated","userHasAuthenticated","onLoad","currentSession","alert"],"mappings":"2TAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,gBAAT,CAA2BC,cAA3B,CAA2CC,WAA3C,KAA8D,mBAA9D,CACA,OAASC,IAAT,KAAqB,aAArB,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,gBAApB,CACA,OAASC,eAAT,KAAgC,UAAhC,CAEA,GAAMC,CAAAA,KAAK,CAAGN,cAAc,CAAC,CAC3BO,OAAO,CAAE,CACPC,OAAO,CAAE,CACPC,KAAK,CAAE,SADA,CAEPC,IAAI,CAAE,SAFC,CAGPC,IAAI,CAAE,SAHC,CAIPC,YAAY,CAAE,MAJP,CADF,CAOPC,SAAS,CAAC,CACRH,IAAI,CAAE,SADE,CAPH,CAWT;AACE;AACF;AAd2B,CAAD,CAA5B,CAiBA,QAASI,CAAAA,GAAT,CAAaC,KAAb,CAAoB,eAC8BnB,QAAQ,CAAC,IAAD,CADtC,wCACXoB,gBADW,eACOC,mBADP,8BAE8BrB,QAAQ,CAAC,KAAD,CAFtC,yCAEXsB,eAFW,eAEMC,oBAFN,eAIlBtB,SAAS,CAAC,UAAM,CACduB,MAAM,GACP,CAFQ,CAEN,EAFM,CAAT,CAIA,QAAeA,CAAAA,MAAf,oLAEUlB,IAAI,CAACmB,cAAL,EAFV,SAGIF,oBAAoB,CAAC,IAAD,CAApB,CAHJ,8EAMI,GAAI,cAAM,iBAAV,CAA6B,CAC3BG,KAAK,aAAL,CACD,CARL,OAWEL,mBAAmB,CAAC,KAAD,CAAnB,CAXF,iEAeA,MAEA,CAACD,gBAAD,EACE,oBAAC,gBAAD,EAAkB,KAAK,CAAEV,KAAzB,EACE,oBAAC,WAAD,MADF,CAEE,2BAAK,SAAS,CAAC,MAAf,EACE,oBAAC,MAAD,EAAQ,QAAQ,CAAE,CAAEY,eAAe,CAAfA,eAAF,CAAmBC,oBAAoB,CAApBA,oBAAnB,CAAlB,EADF,CAFF,CAHF,CAUD,CAED,cAAerB,CAAAA,UAAU,CAACgB,GAAD,CAAzB","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { MuiThemeProvider, createMuiTheme, CssBaseline } from '@material-ui/core'\nimport { Auth } from \"aws-amplify\";\nimport \"./App.css\";\nimport Routes from \"./Routes\";\nimport useAuth from \"./auth/useAuth\";\nimport { FirebaseContext } from 'firebase'\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      light: '#c2dff2',\n      main: '#5999D5',\n      dark: '#314d83',\n      contrastText: '#fff',\n    },\n    secondary:{\n      main: '#314d83'\n    }\n  },\n  //typography:{\n    //fontFamily: 'Montserrat'\n  //},\n});\n\nfunction App(props) {\n  const [isAuthenticating, setIsAuthenticating] = useState(true);\n  const [isAuthenticated, userHasAuthenticated] = useState(false);\n\n  useEffect(() => {\n    onLoad();\n  }, []);\n\n  async function onLoad() {\n    try {\n      await Auth.currentSession();\n      userHasAuthenticated(true);\n    }\n    catch(e) {\n      if (e !== 'No current user') {\n        alert(e);\n      }\n    }\n\n    setIsAuthenticating(false);\n  }\n\n\n  return (\n\n  !isAuthenticating &&\n    <MuiThemeProvider theme={theme}>\n      <CssBaseline />\n      <div className=\"root\">\n        <Routes appProps={{ isAuthenticated, userHasAuthenticated }} />\n      </div>\n    </MuiThemeProvider>\n  );\n}\n\nexport default withRouter(App);\n"]},"metadata":{},"sourceType":"module"}