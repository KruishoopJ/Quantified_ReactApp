{"ast":null,"code":"import _defineProperty from\"/Users/markheij/ipmedth_airsupport/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/markheij/ipmedth_airsupport/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/markheij/ipmedth_airsupport/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";function useFormValidation(initialState,validate,authenticate){var _React$useState=React.useState(initialState),_React$useState2=_slicedToArray(_React$useState,2),values=_React$useState2[0],setValues=_React$useState2[1];var _React$useState3=React.useState({}),_React$useState4=_slicedToArray(_React$useState3,2),errors=_React$useState4[0],setErrors=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),isSubmitting=_React$useState6[0],setSubmitting=_React$useState6[1];React.useEffect(function(){if(isSubmitting){var noErrors=Object.keys(errors).length===0;if(noErrors){authenticate();setSubmitting(false);}else{setSubmitting(false);}}},[errors]);function handleChange(event){event.persist();setValues(function(previousValues){return _objectSpread({},previousValues,_defineProperty({},event.target.name,event.target.value));});}function handleBlur(){var validationErrors=validate(values);setErrors(validationErrors);}function handleSubmit(event){event.preventDefault();var validationErrors=validate(values);setErrors(validationErrors);setSubmitting(true);}return{handleSubmit:handleSubmit,handleBlur:handleBlur,handleChange:handleChange,values:values,errors:errors,isSubmitting:isSubmitting};}export default useFormValidation;","map":{"version":3,"sources":["/Users/markheij/ipmedth_airsupport/frontend/src/auth/useFormValidation.js"],"names":["React","useFormValidation","initialState","validate","authenticate","useState","values","setValues","errors","setErrors","isSubmitting","setSubmitting","useEffect","noErrors","Object","keys","length","handleChange","event","persist","previousValues","target","name","value","handleBlur","validationErrors","handleSubmit","preventDefault"],"mappings":"ueAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,QAASC,CAAAA,iBAAT,CAA2BC,YAA3B,CAAyCC,QAAzC,CAAmDC,YAAnD,CAAiE,qBACjCJ,KAAK,CAACK,QAAN,CAAeH,YAAf,CADiC,oDACtDI,MADsD,qBAC9CC,SAD8C,0CAEjCP,KAAK,CAACK,QAAN,CAAe,EAAf,CAFiC,qDAEtDG,MAFsD,qBAE9CC,SAF8C,0CAGvBT,KAAK,CAACK,QAAN,CAAe,KAAf,CAHuB,qDAGtDK,YAHsD,qBAGxCC,aAHwC,qBAK7DX,KAAK,CAACY,SAAN,CAAgB,UAAM,CAClB,GAAIF,YAAJ,CAAkB,CACd,GAAMG,CAAAA,QAAQ,CAAGC,MAAM,CAACC,IAAP,CAAYP,MAAZ,EAAoBQ,MAApB,GAA+B,CAAhD,CACA,GAAIH,QAAJ,CAAc,CACVT,YAAY,GACZO,aAAa,CAAC,KAAD,CAAb,CACH,CAHD,IAGO,CACHA,aAAa,CAAC,KAAD,CAAb,CACH,CACJ,CACJ,CAVD,CAUG,CAACH,MAAD,CAVH,EAYA,QAASS,CAAAA,YAAT,CAAsBC,KAAtB,CAA6B,CACzBA,KAAK,CAACC,OAAN,GACAZ,SAAS,CAAC,SAAAa,cAAc,0BACjBA,cADiB,oBAEnBF,KAAK,CAACG,MAAN,CAAaC,IAFM,CAECJ,KAAK,CAACG,MAAN,CAAaE,KAFd,IAAf,CAAT,CAIH,CAED,QAASC,CAAAA,UAAT,EAAsB,CAClB,GAAMC,CAAAA,gBAAgB,CAAGtB,QAAQ,CAACG,MAAD,CAAjC,CACAG,SAAS,CAACgB,gBAAD,CAAT,CACH,CAED,QAASC,CAAAA,YAAT,CAAsBR,KAAtB,CAA6B,CACzBA,KAAK,CAACS,cAAN,GACA,GAAMF,CAAAA,gBAAgB,CAAGtB,QAAQ,CAACG,MAAD,CAAjC,CACAG,SAAS,CAACgB,gBAAD,CAAT,CACAd,aAAa,CAAC,IAAD,CAAb,CACH,CAED,MAAO,CACHe,YAAY,CAAZA,YADG,CAEHF,UAAU,CAAVA,UAFG,CAGHP,YAAY,CAAZA,YAHG,CAIHX,MAAM,CAANA,MAJG,CAKHE,MAAM,CAANA,MALG,CAMHE,YAAY,CAAZA,YANG,CAAP,CAQH,CAED,cAAeT,CAAAA,iBAAf","sourcesContent":["import React from \"react\";\n\nfunction useFormValidation(initialState, validate, authenticate) {\n    const [values, setValues] = React.useState(initialState);\n    const [errors, setErrors] = React.useState({});\n    const [isSubmitting, setSubmitting] = React.useState(false);\n\n    React.useEffect(() => {\n        if (isSubmitting) {\n            const noErrors = Object.keys(errors).length === 0;\n            if (noErrors) {\n                authenticate();\n                setSubmitting(false);\n            } else {\n                setSubmitting(false);\n            }\n        }\n    }, [errors]);\n\n    function handleChange(event) {\n        event.persist();\n        setValues(previousValues => ({\n            ...previousValues,\n            [event.target.name]: event.target.value\n        }));\n    }\n\n    function handleBlur() {\n        const validationErrors = validate(values);\n        setErrors(validationErrors);\n    }\n\n    function handleSubmit(event) {\n        event.preventDefault();\n        const validationErrors = validate(values);\n        setErrors(validationErrors);\n        setSubmitting(true);\n    }\n\n    return {\n        handleSubmit,\n        handleBlur,\n        handleChange,\n        values,\n        errors,\n        isSubmitting\n    };\n}\n\nexport default useFormValidation;\n"]},"metadata":{},"sourceType":"module"}