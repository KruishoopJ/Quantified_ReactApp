{"ast":null,"code":"import _slicedToArray from\"/Users/markheij/ipmedth_airsupport/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import\"./Installation.css\";import NodeIcon from'../icons/icon_node';import{Grid,Paper,Button,Box,Divider,Typography}from'@material-ui/core';import{Dashboard as DashboardIcon}from'@material-ui/icons';import{makeStyles}from'@material-ui/core/styles';import{LinkContainer}from\"react-router-bootstrap\";import TopMenuBar from\"../components/TopMenuBar\";import FakeTemp from\"../components/fakeTemp\";import Firebase from\"firebase\";var amountOfNodes=0;var useStyles=makeStyles(function(theme){return{root:{flexGrow:1,minHeight:'100vh',minWidth:'100vw',display:'flex',position:'absolute',bottom:0,flexWrap:'wrap',alignItems:'center',alignContent:'stretch',justifyContent:'center',flexDirection:'column'},height:{height:'100%',width:'100%',margin:0,padding:0,zIndex:0},width:{maxWidth:'100%',width:'100%',marginLeft:theme.spacing(3),marginRight:theme.spacing(3),padding:theme.spacing(2)},container:{display:'flex',flexDirection:'column',alignItems:'stretch'},stretchGrid:{height:'100%',width:'100%'},topButton:{minWidth:'100%',marginBottom:theme.spacing(2),marginTop:theme.spacing(10)},allButton:{marginBottom:theme.spacing(2),marginRight:theme.spacing(2),marginLeft:theme.spacing(2)},remMargin:{paddingLeft:0,paddingRight:0},largeIcon:{width:'35px',height:'35px'}};});export default function Home(props){var nodeIdList=[];var classes=useStyles();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),isloaded=_React$useState2[0],isItLoaded=_React$useState2[1];var loaded=false;var user=Firebase.auth().currentUser;if(user){var uid=user.uid;Firebase.firestore().collection(uid).get().then(function(querySnapshot){querySnapshot.forEach(function(doc){// doc.data() is never undefined for query doc snapshots\n//console.log(doc.id, \" => \", doc.data());\nvar nodedata=doc.data();var idn=nodedata.quantified.id;var nodeExists=false;var newNode={id:idn};nodeIdList.forEach(function(n){if(n.key===idn){nodeExists=true;}else{//nothing, node is already in the list\n}});if(!nodeExists){nodeIdList.push(newNode);if(amountOfNodes){amountOfNodes++;}else{amountOfNodes=1;loaded=true;}}});if(loaded){console.log(amountOfNodes);isItLoaded(true);}});}else{//props.history.push('/login');\n}return React.createElement(\"main\",null,React.createElement(\"header\",null,React.createElement(TopMenuBar,{block:true,pageName:\"Home\",hamburgerMenu:true,closeButtonOnly:false,closeWithPrompt:false,backButton:false,backRoutePage:\"/\"})),React.createElement(\"div\",{className:classes.height},React.createElement(\"div\",{className:classes.root},React.createElement(Box,{display:\"flex\",flexGrow:3,className:classes.topButton},React.createElement(Paper,{className:classes.width},React.createElement(Box,{p:1},React.createElement(Typography,{align:\"center\",variant:\"h5\",gutterBottom:true},\"OVERVIEW\"),React.createElement(Divider,{fullwidth:true}),React.createElement(Typography,{variant:\"h6\"},\"Actual temperature:\"),React.createElement(Typography,{variant:\"body2\",gutterBottom:true},React.createElement(FakeTemp,null),\"\\u2103\"),React.createElement(Typography,{variant:\"h6\"},\"Online nodes:\"),React.createElement(Typography,{variant:\"body2\"},amountOfNodes)))),React.createElement(Box,{display:\"flex\",flexGrow:1,style:{width:'100vw',maxWidth:'100%'}},React.createElement(Grid,{container:true},React.createElement(Grid,{item:true,container:true,xs:12,spacing:2,className:classes.allButton},React.createElement(Grid,{item:true,xs:6,md:12,lg:12,align:\"center\"},React.createElement(LinkContainer,{to:\"/dashboard\"},React.createElement(Button,{variant:\"outlined\",color:\"primary\",className:classes.stretchGrid},React.createElement(\"div\",null,React.createElement(DashboardIcon,{fontSize:\"large\"}),React.createElement(Typography,{variant:\"h6\"},\"Dashboard\"))))),React.createElement(Grid,{item:true,xs:6,md:12,lg:12,align:\"center\"},React.createElement(LinkContainer,{to:\"/nodes\"},React.createElement(Button,{variant:\"outlined\",size:\"large\",color:\"primary\",className:classes.stretchGrid},React.createElement(\"div\",null,React.createElement(NodeIcon,{className:classes.largeIcon}),React.createElement(Typography,{variant:\"h6\"},\"Nodes\")))))))))));}","map":{"version":3,"sources":["/Users/markheij/ipmedth_airsupport/frontend/src/containers/Home.js"],"names":["React","NodeIcon","Grid","Paper","Button","Box","Divider","Typography","Dashboard","DashboardIcon","makeStyles","LinkContainer","TopMenuBar","FakeTemp","Firebase","amountOfNodes","useStyles","theme","root","flexGrow","minHeight","minWidth","display","position","bottom","flexWrap","alignItems","alignContent","justifyContent","flexDirection","height","width","margin","padding","zIndex","maxWidth","marginLeft","spacing","marginRight","container","stretchGrid","topButton","marginBottom","marginTop","allButton","remMargin","paddingLeft","paddingRight","largeIcon","Home","props","nodeIdList","classes","useState","isloaded","isItLoaded","loaded","user","auth","currentUser","uid","firestore","collection","get","then","querySnapshot","forEach","doc","nodedata","data","idn","quantified","id","nodeExists","newNode","n","key","push","console","log"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./Installation.css\";\nimport NodeIcon from '../icons/icon_node';\nimport { Grid, Paper, Button, Box, Divider, Typography } from '@material-ui/core';\nimport { Dashboard as DashboardIcon } from '@material-ui/icons';\nimport { makeStyles  } from '@material-ui/core/styles';\nimport { LinkContainer } from \"react-router-bootstrap\"\nimport TopMenuBar from \"../components/TopMenuBar\";\nimport FakeTemp from \"../components/fakeTemp\";\nimport Firebase from \"firebase\";\n\n\nlet amountOfNodes = 0;\n\nconst useStyles = makeStyles(theme => ({\n  root:{\n    flexGrow: 1,\n    minHeight: '100vh',\n    minWidth: '100vw',\n    display: 'flex',\n    position: 'absolute',\n    bottom: 0,\n    flexWrap: 'wrap',\n    alignItems: 'center',\n    alignContent: 'stretch',\n    justifyContent: 'center',\n    flexDirection: 'column',\n  },\n  height: {\n    height: '100%',\n    width: '100%',\n    margin: 0,\n    padding: 0,\n    zIndex: 0,\n  },\n  width:{\n    maxWidth:'100%',\n    width: '100%',\n    marginLeft: theme.spacing(3),\n    marginRight: theme.spacing(3),\n    padding: theme.spacing(2)\n  },\n  container: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'stretch'\n  },\n  stretchGrid: {\n    height: '100%',\n    width: '100%',\n  },\n  topButton:{\n    minWidth: '100%',\n    marginBottom: theme.spacing(2),\n    marginTop: theme.spacing(10),\n  },\n  allButton:{\n    marginBottom: theme.spacing(2),\n    marginRight: theme.spacing(2),\n    marginLeft: theme.spacing(2)\n  },\n  remMargin: {\n    paddingLeft: 0,\n    paddingRight: 0,\n  },\n  largeIcon: {\n    width:'35px',\n    height: '35px'\n  }\n}));\n\n\nexport default function Home(props) {\n  let nodeIdList = [];\n  const classes = useStyles();\n\n  const[isloaded, isItLoaded] = React.useState(false);\n  let loaded = false;\n\n  var user = Firebase.auth().currentUser;\n\n  if (user) {\n    const uid = user.uid;\n    Firebase.firestore().collection(uid).get().then(function (querySnapshot) {\n      querySnapshot.forEach(function (doc) {\n        // doc.data() is never undefined for query doc snapshots\n        //console.log(doc.id, \" => \", doc.data());\n        let nodedata = doc.data();\n        let idn = nodedata.quantified.id;\n        let nodeExists = false;\n\n        let newNode ={\n          id: idn,\n        };\n\n\n        nodeIdList.forEach(function (n) {\n          if(n.key === idn){\n            nodeExists = true;\n          }else{\n            //nothing, node is already in the list\n          }\n        });\n\n        if (!nodeExists){\n          nodeIdList.push(newNode);\n          if(amountOfNodes){\n            amountOfNodes++;\n          }else{\n            amountOfNodes = 1;\n\n            loaded = true;\n          }\n        }\n\n      });\n\n\n      if(loaded){\n        console.log(amountOfNodes);\n        isItLoaded(true);\n      }\n    })\n\n\n  }else {\n    //props.history.push('/login');\n  }\n\n  return (\n    <main>\n    <header>\n      <TopMenuBar\n      block pageName=\"Home\" hamburgerMenu={true} closeButtonOnly={false} closeWithPrompt={false} backButton={false} backRoutePage=\"/\"/>\n      </header>\n      <div className={classes.height}>\n        <div className={classes.root}>\n          <Box display=\"flex\"\n            flexGrow={3}\n            className={classes.topButton}\n            >\n              <Paper className={classes.width}>\n                <Box p={1}>\n                  <Typography align=\"center\" variant=\"h5\" gutterBottom>\n                    OVERVIEW\n                  </Typography>\n                  <Divider fullwidth/>\n                  <Typography variant=\"h6\">\n                    Actual temperature:\n                  </Typography>\n                  <Typography variant=\"body2\" gutterBottom>\n                    <FakeTemp />&#x2103;\n                  </Typography>\n                  <Typography variant=\"h6\">\n                    Online nodes:\n                  </Typography>\n                  <Typography variant=\"body2\">\n                    {amountOfNodes}\n                  </Typography>\n                </Box>\n              </Paper>\n            </Box>\n            <Box\n              display=\"flex\"\n              flexGrow={1}\n              style={{width: '100vw',\n                    maxWidth: '100%',\n                    }}\n              >\n                <Grid container>\n                  <Grid item container xs={12} spacing={2} className={classes.allButton}>\n                    <Grid item xs={6} md={12} lg={12} align=\"center\">\n                      <LinkContainer to=\"/dashboard\">\n                        <Button variant=\"outlined\" color=\"primary\" className={classes.stretchGrid}>\n                          <div>\n                          <DashboardIcon fontSize=\"large\"/>\n                          <Typography variant=\"h6\">Dashboard</Typography>\n                          </div>\n                        </Button>\n                        </LinkContainer>\n                      </Grid>\n                    <Grid item xs={6} md={12} lg={12} align=\"center\">\n                      <LinkContainer to=\"/nodes\">\n                        <Button variant=\"outlined\" size=\"large\" color=\"primary\" className={classes.stretchGrid}>\n                          <div>\n                          <NodeIcon className={classes.largeIcon}/>\n                          <Typography variant=\"h6\">Nodes</Typography>\n                          </div>\n                        </Button>\n                      </LinkContainer>\n                    </Grid>\n                  </Grid>\n                </Grid>\n              </Box>\n          </div>\n      </div>\n      </main>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}